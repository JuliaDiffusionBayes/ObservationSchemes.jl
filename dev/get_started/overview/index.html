<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Get started · ObservationSchemes.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="ObservationSchemes.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">ObservationSchemes.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li class="is-active"><a class="tocitem" href>Get started</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#A-single-observation"><span>A single observation</span></a></li><li><a class="tocitem" href="#Multiple-observations"><span>Multiple observations</span></a></li><li><a class="tocitem" href="#Define-interdependence-structure-for-parameters"><span>Define interdependence structure for parameters</span></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">User manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../manual/single_observation/">A single observation</a></li><li><a class="tocitem" href="../../manual/start_pt_prior/">Priors over starting points</a></li><li><a class="tocitem" href="../../manual/multiple_observations/">Multiple observations</a></li><li><a class="tocitem" href="../../manual/observation_schemes/">Observation schemes</a></li><li><a class="tocitem" href="../../manual/utility_functions/">Utility fuctions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">How to...</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../how_to_guides/simple_os/">... ergonomically deal with simple observation schemes?</a></li><li><a class="tocitem" href="../../how_to_guides/custom_priors/">... define custom priors over starting points?</a></li><li><a class="tocitem" href="../../how_to_guides/custom_os/">... define custom observation schemes?</a></li><li><a class="tocitem" href="../../how_to_guides/dataframes/">... work with dataframes?</a></li><li><a class="tocitem" href="../../how_to_guides/csv_files/">... read data directly from a <code>.csv</code> file?</a></li><li><a class="tocitem" href="../../how_to_guides/save_to_files/">... save decorated data to a file?</a></li><li><a class="tocitem" href="../../how_to_guides/other_processes/">... deal with stochastic processes other than diffusions?</a></li><li><a class="tocitem" href="../../how_to_guides/update_params/">... leverage <code>AllObservations</code> to efficiently update parameters?</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/single_path/">Defining an observation scheme for a single trajectory of a FitzHugh–Nagumo model</a></li></ul></li><li><a class="tocitem" href="../../module_index/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Get started</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Get started</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaDiffusionBayes/ObservationSchemes.jl/blob/master/docs/src/get_started/overview.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="get_started"><a class="docs-heading-anchor" href="#get_started">Get started</a><a id="get_started-1"></a><a class="docs-heading-anchor-permalink" href="#get_started" title="Permalink"></a></h1><hr/><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><hr/><pre><code class="language-julia">] add ObservationSchemes</code></pre><h2 id="A-single-observation"><a class="docs-heading-anchor" href="#A-single-observation">A single observation</a><a id="A-single-observation-1"></a><a class="docs-heading-anchor-permalink" href="#A-single-observation" title="Permalink"></a></h2><hr/><p>To define a single observation collected according to</p><div>\[V_t = LX_t+ξ,\quad ξ ∼ N(μ,Σ),\]</div><p>use <code>LinearGsnObs</code>, for instance</p><pre><code class="language-julia">ν = [1.0, 2.0, 3.0]
t = 2.0
L = [1.0 0.0 2.0 0.0; 3.0 4.0 0.0 0.0; 0.0 1.0 0.0 1.0]
Σ = Diagonal([1.0, 1.0, 1e-11])
obs = LinearGsnObs(t, ν; L = L, Σ = Σ) # μ defaults to 0</code></pre><p>To view some summary information call:</p><pre><code class="language-julia">julia&gt; summary(obs)
⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤
|Observation `v = Lx+ξ`, where `L` is a (3, 4)-matrix, `x` is a state of the stochastic process and `ξ`∼N(μ,Σ).
|...
|| ν: [1.0, 2.0, 3.0] (observation),
||  → typeof(ν): Array{Float64,1},
|| made at time 2.0.
|...
|L: [1.0 0.0 2.0 0.0; 3.0 4.0 0.0 0.0; 0.0 1.0 0.0 1.0],
|   → typeof(L): Array{Float64,2}
|μ: [0.0, 0.0, 0.0],
|   → typeof(μ): Array{Float64,1}
|Σ: [1.0 0.0 0.0; 0.0 1.0 0.0; 0.0 0.0 1.0e-11],
|   → typeof(Σ): Diagonal{Float64,Array{Float64,1}}
|...
|This is NOT an exact observation.
|...
|It does not depend on any additional parameters.
|...
|No first passage times recorded.
⋆ ⋆ ⋆ ⋆ ⋆ ⋆ ⋆ ⋆ ⋆ ⋆</code></pre><p>For a general observation scheme:</p><div>\[V_t = g(X_t) + ξ,\quad ξ ∼ Ξ\]</div><p>you may use <code>GeneralObs</code> instead of <code>LinearGsnObs</code>, but you must provide the function <span>$g$</span>, the law <span>$\Xi$</span> (and an approximation via <code>LinearGsnObs</code> if you wish to use it with other packages in <a href="https://github.com/JuliaDiffusionBayes">JuliaDiffusionBayes</a>).</p><p>Additionally, first passage time observations are supported.</p><h2 id="Multiple-observations"><a class="docs-heading-anchor" href="#Multiple-observations">Multiple observations</a><a id="Multiple-observations-1"></a><a class="docs-heading-anchor-permalink" href="#Multiple-observations" title="Permalink"></a></h2><hr/><p>To define multiple observations at once define a list of observation formats in which the data was collected:</p><pre><code class="language-julia"># type 1
t, v = 1.0, [1.0, 2.0, 3.0] # dummy values, only their DataTypes matter
obs = LinearGsnObs(t, v; full_obs=true)

# type 2, i.e. another observation scheme:
t, v = 1.0, [1.0]
obs2 = LinearGsnObs(t, v; L=[1.0 0.0 0.0;], Σ = reshape([1.0], (1,1)))

# data defined externally:
tt, xx = ...

# template of an observation scheme in pattern: obs, obs2, obs, obs2, obs, ...
obs_scheme = ObsScheme(obs, obs2; pattern=[1,2])

# decorate the data
observs = load_data(obs_scheme, tt, xx)</code></pre><p>You can even collect your data directly from the simulated trajectory using <code>ObsScheme</code>:</p><pre><code class="language-julia"># simulate some data
using DiffusionDefinition
@load_diffusion Lorenz
θ = [10.0, 28.0, 8.0/3.0, 1.0]
P = Lorenz(θ...)
tt, y1 = 0.0:0.001:10.0, @SVector [-10.0, -10.0, 25.0]
X = rand(P, tt, y1)

# collect the data and decorate
observs = collect(
    obs_scheme, X,
    1000, # 1 in every 1000 points collected
    true, # omit the starting pt
)</code></pre><p>Inspecting the first two elements of <code>observs</code> reveals:</p><pre><code class="language-julia">julia&gt; summary(observs[1])
⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤
|Observation `v = Lx+ξ`, where `L` is a (3, 3)-matrix, `x` is a state of the stochastic process and `ξ`∼N(μ,Σ).
|...
|| ν: [-6.973713465241107, -7.078798675212648, 25.333374615535917] (observation),
||  → typeof(ν): Array{Float64,1},
|| made at time 1.0.
|...
|L: [1.0 0.0 0.0; 0.0 1.0 0.0; 0.0 0.0 1.0],
|   → typeof(L): Diagonal{Float64,Array{Float64,1}}
|μ: [0.0, 0.0, 0.0],
|   → typeof(μ): Array{Float64,1}
|Σ: [1.0e-11 0.0 0.0; 0.0 1.0e-11 0.0; 0.0 0.0 1.0e-11],
|   → typeof(Σ): Diagonal{Float64,Array{Float64,1}}
|...
|This is an exact observation.
|...
|It does not depend on any additional parameters.
|...
|No first passage times recorded.
⋆ ⋆ ⋆ ⋆ ⋆ ⋆ ⋆ ⋆ ⋆ ⋆

julia&gt; summary(observs[2])
⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤⏤
|Observation `v = Lx+ξ`, where `L` is a (1, 3)-matrix, `x` is a state of the stochastic process and `ξ`∼N(μ,Σ).
|...
|| ν: [-8.536161659220804] (observation),
||  → typeof(ν): Array{Float64,1},
|| made at time 2.0.
|...
|L: [1.0 0.0 0.0],
|   → typeof(L): Array{Float64,2}
|μ: [0.0],
|   → typeof(μ): Array{Float64,1}
|Σ: [1.0],
|   → typeof(Σ): Array{Float64,2}
|...
|This is NOT an exact observation.
|...
|It does not depend on any additional parameters.
|...
|No first passage times recorded.
⋆ ⋆ ⋆ ⋆ ⋆ ⋆ ⋆ ⋆ ⋆ ⋆</code></pre><p>The decorated observations of a trajectory may now be put inside a container that collects observations of multiple trajectories:</p><pre><code class="language-julia">all_obs = AllObservations()
add_recording!(
    all_obs,
    (
        P = P, # this is some target law of the stochastic process
        obs = observs,
        t0 = 0.0, # starting time
        x0_prior = KnownStartingPt([1.0, 2.0]), # prior over the starting position
    )
)</code></pre><h2 id="Define-interdependence-structure-for-parameters"><a class="docs-heading-anchor" href="#Define-interdependence-structure-for-parameters">Define interdependence structure for parameters</a><a id="Define-interdependence-structure-for-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Define-interdependence-structure-for-parameters" title="Permalink"></a></h2><hr/><p>If your data consist of recordings of multiple trajectories, sampled under laws that share some subsets of parameters or observation schemes sharing some parameters, then you may wish to add all of them to <code>AllObservations</code> above and then specify the interdependence structure of parameters. To this end you may use <code>add_dependency!</code> function.</p><p>For instance, to specify that the first and second recording share dependence on two common parameters (one of which under the law of recording 1 is encoded as <code>α1</code> and under the law of recording 2 is encoded as <code>α2</code> and another one, which under both recording is encoded as <code>:β</code>) we may write</p><pre><code class="language-julia">add_dependency!(
    all_obs,
    Dict(
        :α_shared =&gt; [(1, :α1), (2, :α1) #= format: (idx-of-recording, param-name) =#],
        :β_shared =&gt; [(1, :β), (2, :β)],
    )
)</code></pre><p>Once you&#39;re done setting up an instance of <code>AllObservations</code> call <code>initialize</code> to complete initialization.</p><pre><code class="language-julia">initialised_all_obs, old_to_new_idx = initialize(all_obs)</code></pre><p>The object <code>initialised_all_obs</code> will now contain all necessary information about how the data were collected, everything that is known about the underlying process that generated it, as well as the data themselves.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../../manual/single_observation/">A single observation »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Sunday 5 July 2020 09:56">Sunday 5 July 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
